# 网管系统
1. 对于一个应用的稳定性来说,如果没有办法对单一的模块做熔断 升级 回滚等操作,线上不可控的概率极大,这也是目前主流采用微服务架构最大原因之一。
2. 请求类型区分网管
    - 静态资源网关 处理前端资源数据 包括 CSR SSR等。
    - API 网关 通过统一的API网关可以聚合所有零散的微服务资源,保持统一的出入口 降低多项目的接入成本以及其他项目的使用成本。
3. 功能属性分类
    - 流量网关  无业务属性 单纯做安全 (黑白名单) 分流(负载均衡)等
    - 业务网关  用户(认证 鉴权) 服务稳定性(降级 容灾) 业务属性灰度 代理（资源代理 缓存） 统一前置(日志 数据校验)等。
4. 市面上常见的网关系统 还包含其他功能
    - 认证 (登陆态 一般不做鉴权)
    - 分流
    - 代理 （静态资源 API等）
    - AB test (流量灰度 一般根据IP 或者用户灰度信息)
    - 缓存 (成本不低)
5. Nginx
* Nginx 作为专业的web代理服务器 在代理方面能够提供 负载均衡 流量切换等功能,脚本语言 lua支持
* 对 Session 以及 Cookie 的处理比较弱
*  仅支持 http协议
* lua脚本以及修改nginx配置都需要重启无法做到热更新。
*  没有可视化管理界面

6. Gateway
* 业务性的Gateway需要做啥
    - 统一鉴权收口 通过统一配置给接口资源添加权限
    - 支持 RPC微服务调用 减少资源消耗
    - 系统易于监控 同时可以采集收口进来的信息
* 对比看来 Nginx 更关注负载均衡以及反向代理 也对业务部分入侵很低,而 Gateway 作为后端应用 可以携带业务属性

*  在系统架构设计上 nginx作为 流量网关 由Nginx 做一层流量代理 通过负载均衡到Gateway 做业务层的转发处理,这样可以减少我们自建网关系统的工作量。